local Checkpoints = {}
local ButtonClickDetectors = {}

if game.PlaceId ~= 5938315346 then
game:GetService("TeleportService"):Teleport(5938315346)
return
end

for i,v in pairs(game.Workspace:GetDescendants()) do
    if v:IsA("ClickDetector") and v:FindFirstAncestor("Button") then
        local MainModel = v:FindFirstAncestor("RewardSign")
        if not MainModel:FindFirstChild("SkinReward") and MainModel.Amount.Value >= Money_Greater_Then then
            table.insert(ButtonClickDetectors,v)
        end
    elseif v.Name == "TouchInterest" and v:FindFirstAncestor("Checkpoint") then
        table.insert(Checkpoints,v.Parent)
    end
end
    
while task.wait(10) do
    for i,v in pairs(ButtonClickDetectors) do
        local Lowest = math.huge
        local Closest = nil
        for i = 1,#Checkpoints do
            local Distance = (v.Parent:FindFirstChildOfClass("Part").Position - Checkpoints[i].Position).magnitude
            if Distance < Lowest then
                Lowest = Distance
                Closest = Checkpoints[i]
            end
        end
        firetouchinterest(game.Players.LocalPlayer.Character["RightFoot"],Closest,0)
        firetouchinterest(game.Players.LocalPlayer.Character["RightFoot"],Closest,0)
        firetouchinterest(game.Players.LocalPlayer.Character["RightFoot"],Closest,1)
        firetouchinterest(game.Players.LocalPlayer.Character["LeftFoot"],Closest,1)
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = v.Parent:FindFirstChildOfClass("Part").CFrame
        repeat task.wait()
        fireclickdetector(v)
        until game:GetService("Players").GuessgamesareMeh.PlayerGui.UI.Reward.Visible == true
        task.wait(2)
        for index, connection in next, getconnections(game:GetService("Players").LocalPlayer.PlayerGui.UI.Reward.OK.MouseButton1Click) do 
        connection:Fire();
        end
    end
    game.Players:Chat("!reset")
end
